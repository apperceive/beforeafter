<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>

<style type="text/css" media="screen"> 

#beforeafter .section {
    margin-top: 2em;
    position: relative;
}

#beforeafter .section p.source {
    position: absolute;
    right: 0;
    top: 0.5em;
    color: #999;
    font-size: 7pt;
}

.beforeafter { position: relative; overflow: hidden; }

.before, .after { position: absolute; top: 0; left: 0; }

.before { 
    border-right: 5px solid #000;
    -moz-box-shadow: 1px 0 20px #222;
    -webkit-box-shadow: 1px 0 20px #222;
    box-shadow: 1px 0 20px #222;
    }

.help { 
    position: absolute;
    bottom: 20px;
    right:  70px;
    font: bold 20px/1em Helvetica, Arial, sans-serif;
    color: #FFF;
    opacity: 0.7;
    }
    
</style> 

<script type="text/javascript" charset="utf-8" src="jquery.min.js"></script> 
<script type="text/javascript" charset="utf-8"> 

$(function(){

    // Loop through all the sets of before and after pics
    $(".beforeafter").each(function(){
    
        // Set the container's size to the size of the image
        $(this).width($(this).find("img[rel=before]").attr("width")).height($(this).find("img[rel=before]").attr("height"));
    
        // Convert the images into background images on layered divs
        $(this).append("<div class='after'></div>").find(".after").css({"background": "url(" + $(this).find("img[rel=after]").attr("src") + ")", "width": $(this).find("img[rel=after]").attr("width") + "px", "height": $(this).find("img[rel=after]").attr("height") + "px"});
        $(this).append("<div class='before'></div>").find(".before").css({"background": "url(" + $(this).find("img[rel=before]").attr("src") + ")", "width": $(this).find("img[rel=before]").attr("width") - 40 + "px", "height": $(this).find("img[rel=before]").attr("height") + "px"});
        
        // Add a helpful message
        $(this).append("<div class='help'>Hover over the image to toggle before/after</div>");
        
        // Remove the original images
        $(this).find("img").remove();
        
        // Event handler for the mouse moving over the image
        $(this).mousemove(function(event){
            
            // Need to know the X position of the parent as people may have their browsers set to any width
            var offset = $(this).offset().left;
            
            // Don't let the reveal go any further than 50 pixels less than the width of the image
            // or 50 pixels on the left hand side
            if ((event.clientX - offset) < ($(this).find(".after").width() -50) && (event.clientX - offset) > 50) {
                // Adjust the width of the top image to match the cursor position
                $(this).find(".before").width(event.clientX - offset);
            }
            
        });
        
        // Fade out the help message after the first hover
        $(this).hover(function(){
        
            $(this).find(".help").animate({"opacity": 0}, 400, function(){ $(this).find(".help").remove(); });
            
        });
        
    });
    
});
    
</script> 

<title>Markus Sandy: before &amp; after</title>

<h1>Markus Sandy: before &amp; after</h1>

<p>Hover over each photo to view the effects caused by the world news and events.</p>

<small>Based on <a href='http://www.abc.net.au/news/events/japan-quake-2011/beforeafter.htm'>ABC News Japan Earthquake: before and after</a> page.</small>

<div class="section">
    <h2>Japan Earthquake &amp; Tsunami</h2>
    <div class="beforeafter"> 
        <img src="happy.jpg" rel="before" width="640" height="480" /> 
        <img src="sad.jpg" rel="after" width="640" height="480" /> 
    </div> 
</div>

<div class="section">
    <h2>UN Attacks Libya</h2>
    <div class="beforeafter"> 
        <img src="happy.jpg" rel="before" width="640" height="480" /> 
        <img src="mad.jpg" rel="after" width="640" height="480" /> 
    </div> 
</div>

<div class="section">
    <h2>US Wars in Iraq, Afganastan, ...</h2>
    <div class="beforeafter"> 
        <img src="happy.jpg" rel="before" width="640" height="480" /> 
        <img src="exasperated.jpg" rel="after" width="640" height="480" /> 
    </div> 
</div>

<div class="section">
    <h2>Paypal Blocks Wikileaks Donations</h2>
    <div class="beforeafter"> 
        <img src="happy.jpg" rel="before" width="640" height="480" /> 
        <img src="flip.jpg" rel="after" width="640" height="480" /> 
    </div> 
</div>

